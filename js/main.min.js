"use strict";const start=()=>{let e="ontouchstart"in window||navigator.msMaxTouchPoints;new Swiper(".main-header__slider",{effect:"creative",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},autoplay:{delay:5e3},loop:!0,pagination:{el:".slider-pagination",clickable:!0}}),new Swiper(".bottom-slider__slider",{spaceBetween:30,autoplay:{delay:5e3},loop:!0,pagination:{el:".slider-pagination",clickable:!0},grabCursor:!0,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:["-30%",0,-1]},next:{translate:["100%",0,0]}}}),new Swiper(".sponsor-slider",{slidesPerView:6,spaceBetween:10,autoplay:{delay:5e3},loop:!0,navigation:{nextEl:".sponsor-slider__next",prevEl:".sponsor-slider__prev"},pagination:{clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:5},480:{slidesPerView:3,spaceBetween:5},992:{slidesPerView:4,spaceBetween:10},1440:{slidesPerView:5,spaceBetween:10},1660:{slidesPerView:6,spaceBetween:10}}}),new Swiper(".product__slider",{effect:"creative",loop:!0,disableOnInteraction:!0,simulateTouch:!1,creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},navigation:{nextEl:".product__slider-next",prevEl:".product__slider-prev"},pagination:{el:".product__pagination"}}),new Swiper(".viewed__slider",{slidesPerView:"4",spaceBetween:10,loop:!0,watchSlidesProgress:!0,navigation:{nextEl:".viewed__slider-next",prevEl:".viewed__slider-prev"},keyboard:!0,breakpoints:{220:{slidesPerView:1.1,spaceBetween:10},480:{slidesPerView:2.1,spaceBetween:10},768:{slidesPerView:3,spaceBetween:10},1100:{slidesPerView:4,spaceBetween:10},1660:{slidesPerView:4,spaceBetween:10}}});new Swiper(".desc-product__slider",{slidesPerView:3,spaceBetween:10,loop:!0,navigation:{nextEl:".desc-product__slider-next",prevEl:".desc-product__slider-prev"},breakpoints:{220:{slidesPerView:1.1,spaceBetween:10},480:{slidesPerView:2.1,spaceBetween:10},768:{slidesPerView:3,spaceBetween:10},992:{slidesPerView:4,spaceBetween:10},1400:{slidesPerView:3,spaceBetween:10}}});const t=document.querySelector('.sorting__select[name="select-price"]');if(t){new Choices(t,{itemSelectText:"",searchEnabled:!1})}const s=document.querySelector('.sorting__select[name="select-page"]');if(s){new Choices(s,{itemSelectText:"",searchEnabled:!1})}let r=document.querySelectorAll(".footer__list");const l=e=>{let t=e.target.classList;t.contains("footer__list-item")&&e.target.parentNode.classList.toggle("footer__list--open"),t.contains("footer__list-link--first")&&e.target.parentNode.parentNode.classList.toggle("footer__list--open")};r.forEach((e=>{e.addEventListener("click",l)}));let o=document.querySelectorAll(".menu-tabs__btn"),c=document.querySelectorAll(".menu-tabs__content"),i=document.querySelector(".menu-tabs__buttons");o.length>0&&o.forEach(((e,t)=>{e.addEventListener("click",(e=>{let s="menu-tabs__btn--active";if(e.target.classList.contains("menu-tabs__btn")&&!e.target.classList.contains(s)){for(let e=0;e<o.length;e++){o[e].classList.remove(s),c[e].classList.remove("menu-tabs__content--active")}e.target.classList.add(s),c[t].classList.add("menu-tabs__content--active"),i.classList.toggle("menu-tabs__buttons--anim")}}))}));const n=e=>{e?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")};let a=document.querySelector(".main-header__menu-burger, .header__menu-burger"),d=document.querySelector(".main-menu"),u=document.querySelector(".main-menu__cross");null!=a&&null!=d&&null!=u&&(a.addEventListener("click",(()=>{d.classList.add("main-menu--show"),n(!0)})),u.addEventListener("click",(()=>{d.classList.remove("main-menu--show"),n(!1)})));let _=document.querySelector(".btn-group__link--authorized"),p=document.querySelector(".header-drop-menu");const m=e=>{e.preventDefault(),p.classList.toggle("header-drop-menu--active")},g=e=>{const t=e.target;t.closest(".btn-group__link--authorized")||t.closest(".header-drop-menu")||p.classList.remove("header-drop-menu--active")};null!==_&&(_.addEventListener("click",m),window.addEventListener("click",g));let w=document.querySelectorAll(".menu-popup__back"),v=document.querySelectorAll(".menu-tabs__link"),f=document.querySelectorAll(".menu-popup__link");const h=e=>{e.preventDefault(),e.target.parentNode.parentNode.classList.contains("menu-popup--show")&&e.target.parentNode.parentNode.classList.remove("menu-popup--show")},L=e=>{e.preventDefault();let t=e.target.getAttribute("data-menu-popup");if(t){let e=document.querySelector(`.menu-popup[data-menu-popup="${t}"]`);null!=e&&e.classList.add("menu-popup--show")}};w.forEach((e=>{e.addEventListener("click",h)})),v.forEach((e=>{e.addEventListener("click",L)})),f.forEach((e=>{e.addEventListener("click",L)}));let b=document.querySelectorAll(".product__favorite, .product-card__favorite");const y=e=>{if(e.target.classList.contains("product__favorite")){let t="product__favorite--add";e.target.classList.toggle(t)}else if(e.target.classList.contains("product-card__favorite")){let t="product-card__favorite--add";e.target.classList.toggle(t)}else;};b.length>0&&b.forEach((e=>{e.addEventListener("click",y)}));let S=document.querySelectorAll(".product__inner"),E=document.querySelectorAll(".product__bottom");if(!e&&S.length>0){const e=e=>{let t=e.target,s=t.clientHeight,r=t.scrollHeight-s,l=t.querySelector(".product__slider, .product__link"),o=t.querySelector(".product__bottom");l.style.transform=`translateY(-${r}px)`,o.style.transform=`translateY(-${r}px)`},t=e=>{let t=e.target,s=t.querySelector(".product__slider, .product__link"),r=t.querySelector(".product__bottom");s.style.transform="translateY(0px)",r.style.transform="translateY(0px)"};S.forEach((s=>{s.addEventListener("mouseenter",e),s.addEventListener("mouseleave",t)}))}let q,k=document.querySelectorAll(".custom-select__btn"),x=document.querySelector(".filtres__bottom"),A=document.querySelectorAll(".custom-checkbox__default"),B=[];const P=e=>{if(e.target.classList.contains("custom-select__btn")){let t=document.querySelectorAll(".custom-select__btn--uncover");t.length>0&&t.forEach((t=>{t.classList!==e.target.classList&&(t.classList.remove("custom-select__btn--uncover"),t.querySelector(".custom-select__list--show").classList.remove("custom-select__list--show"))}));let s=e.target.querySelector(".custom-select__list");e.target.classList.toggle("custom-select__btn--uncover"),s.classList.toggle("custom-select__list--show")}e.target.classList.contains("custom-checkbox__default")&&$()},V=e=>{let t=e.target;t.closest(".custom-select__btn")||t.closest(".custom-select__list")||k.forEach((e=>{e.classList.remove("custom-select__btn--uncover"),e.querySelector(".custom-select__list").classList.remove("custom-select__list--show")}))},$=()=>{k.forEach((e=>{let t=e.querySelectorAll(".custom-checkbox__default:checked");e.querySelector(".custom-select__num").innerHTML=`${t.length}`}))},H=e=>{let t=e.target,s=B.indexOf(t.getAttribute("name"));if(t.checked){B.push(t.getAttribute("name")),q="";for(let e=0;e<B.length;e++)q+=`\n    <div class="filtres__item" data-checkbox="${B[e]}"> ${B[e]}\n      <span class="filtres__item-cross" ></span>\n    </div>\n    `}else{B.splice(s,1),q="";for(let e=0;e<B.length;e++)q+=`\n    <div class="filtres__item" data-checkbox="${B[e]}">${B[e]}\n      <span class="filtres__item-cross" ></span>\n    </div>\n    `}x.innerHTML=q};k.length>0&&(k.forEach((e=>{e.addEventListener("click",P)})),window.addEventListener("click",V),$()),A.length>0&&A.forEach((e=>{e.addEventListener("change",H)})),x&&x.addEventListener("click",(e=>{if(e.target.closest(".filtres__item")){let t=e.target.getAttribute("data-checkbox"),s=document.querySelector(`.custom-checkbox__default[name="${t}"]`),r=B.indexOf(s.getAttribute("name"));s.checked=!1,$(),e.target.remove(),q=x.innerHTML,B.splice(r,1)}})),E.length>0&&E.forEach((e=>{const t=()=>{let t=e.querySelector(".product__pirce"),s=e.querySelector(".product__suptitle"),r=e.querySelector(".product__suptitle-group"),l=e.querySelector(".product__title-group");window.innerWidth<1101?(r.prepend(t),l.appendChild(s)):(l.appendChild(t),r.prepend(s))};window.addEventListener("resize",t),t()}));let T=document.querySelectorAll(".product__inner");const z=()=>{T.length>0&&T.forEach((e=>{let t=e.querySelector(".sizes").scrollHeight,s=e.scrollHeight-t-50;e.style.maxHeight=`${s}px`}))};z(),setTimeout((()=>{z()}),1e3),window.addEventListener("resize",z);let C=document.querySelector('.mobile-filters__btn--price-up[data-sort="price-up"]'),N=document.querySelector(".filters");C&&C.addEventListener("click",(()=>{C.classList.contains("mobile-filters__btn--price-up")?(C.classList.remove("mobile-filters__btn--price-up"),C.classList.add("mobile-filters__btn--price-down")):C.classList.contains("mobile-filters__btn--price-down")&&(C.classList.remove("mobile-filters__btn--price-down"),C.classList.add("mobile-filters__btn--price-up"))}));let M=document.querySelector('.mobile-filters__btn[data-filter="popup"]'),D=document.querySelector(".filters__close");M&&M.addEventListener("click",(()=>{N.classList.add("filters--show"),n(!0)})),D&&D.addEventListener("click",(()=>{N.classList.remove("filters--show"),n(!1)}));let O=document.querySelector(".product-card__images-zoom"),Y=document.querySelector(".popup-photogallery"),I=document.querySelector(".popup-photogallery__cross");if(null!==Y){O.addEventListener("click",(()=>{Y.classList.add("popup-photogallery--show"),n(!0)})),I.addEventListener("click",(()=>{Y.classList.remove("popup-photogallery--show"),n(!1)}));let e=Y.querySelector(".swiper-wrapper");document.querySelectorAll(".product-card__slider-img").forEach(((t,s)=>{e.innerHTML+=`\n      <div class="swiper-slide">\n        <img class="popup-photogallery__slider-img" src="${t.getAttribute("src")}" alt="Продукт">\n      </div>`}))}new Swiper(".popup-photogallery__slider",{loop:!0,spaceBetween:30});const R=new Swiper(".slider-thumbnail",{loop:!0,direction:"vertical",spaceBetween:10,slidesPerView:4,watchSlidesProgress:!0,centeredSlides:!1});new Swiper(".product-card__images",{loop:!0,spaceBetween:10,effect:"flip",grabCursor:!0,flipEffect:{slideShadows:!1,limitRotation:!1},thumbs:{swiper:R},navigation:{nextEl:".product-card__slider-prev",prevEl:".product-card__slider-next"}});let W=document.querySelectorAll(".acord__item");const j=e=>{W.forEach((t=>{t.classList.contains("acord__item--open")&&!e.target.closest(".acord__item--open")&&t.classList.remove("acord__item--open")})),e.target.classList.toggle("acord__item--open")};W.length>0&&W.forEach((e=>{e.addEventListener("click",j)}));let F=document.querySelectorAll(".dialog");const G=e=>e.target.closest(".dialog__inner")?e.target.closest(".dialog__cross")?(e.target.closest(".dialog").classList.remove("dialog--show"),void n(!1)):void 0:(e.target.closest(".dialog").classList.remove("dialog--show"),void n(!1));F.length>0&&F.forEach((e=>{e.addEventListener("click",G)}));let J=document.querySelector(".sizes__check"),K=document.querySelector(".comment__button");if(null!==J){let e=document.querySelector('.dialog[data-dialog="sizes"]');J.addEventListener("click",(()=>{e.classList.add("dialog--show"),n(!0)}))}if(null!==K){let e=document.querySelector('.dialog[data-dialog="comment"]');K.addEventListener("click",(()=>{e.classList.add("dialog--show"),n(!0)}))}let Q=document.querySelectorAll(".dialog-comment__rating-star");Q.length>0&&Q.forEach((e=>{e.addEventListener("click",(e=>{Q.forEach((e=>{e.classList.contains("dialog-comment__rating-star--full")&&e.classList.remove("dialog-comment__rating-star--full")})),e.target.classList.contains("dialog-comment__rating-star--full")?e.target.classList.remove("dialog-comment__rating-star--full"):(e.target.classList.add("dialog-comment__rating-star--full"),console.log("Вы поставили: "+e.target.getAttribute("data-star")+" Звезд"))}))}));let U=document.querySelector(".preloader");null!==U&&U.remove()};window.addEventListener("DOMContentLoaded",start);